# BIG-IP Collector

## Description

The `bigIPCollect.sh` script must be copied and run on a BIG-IP instance (hardware-based or Virtual Edition). It will collect raw JSON files and package them into a single .tgz file:
the .tgz file can then be processed offline by Second Sight to build all target JSON files

## Usage - Data collection

- Copy (scp) `bigIPCollect.sh` from your local host to your BIG-IP instance, under `/tmp/`

```
$ scp bigIPCollect.sh root@bigip1.f5:/tmp/
(root@bigip1.f5) Password: 
bigIPCollect.sh                              100% 1611   789.7KB/s   00:00    
$ 
```

- SSH to your BIG-IP instance and run the collection script with no parameters to display the help banner

```
$ ssh root@bigip1.f5
(root@bigip1.f5) Password: 
Last login: Fri Nov 19 00:00:05 2021 from 192.168.1.18
[root@bigiq:Active:Standalone] config # chmod +x /tmp/bigIPCollect.sh 
[root@bigiq:Active:Standalone] config # /tmp/bigIPCollect.sh 
Second Sight - https://github.com/F5Networks/SecondSight

 ./bigIPCollect.sh [options]

 -h             - This help
 -i             - Interactive mode
 -u [username]  - BIG-IQ username (batch mode)
 -p [password]  - BIG-IQ password (batch mode)

 Interactive mode:      ./bigIPCollect.sh -i
 Batch mode:            ./bigIPCollect.sh -u [username] -p [password]
```

- On BIG-IP run the collection script using "admin" as the authentication username and its password

```
[root@bigip1:Active:Disconnected] tmp # ./bigIPCollect.sh -i
Username: admin
Password: 
-> Collecting License info
-> Collecting Software release info
-> Collecting Provisioned modules info
-> Collecting APM usage
-> Collecting Hardware info
-> Data collection completed, building tarfile
-> All done, copy /tmp/20221122-2351-bigIPCollect.tgz to your local host using scp
[root@bigip1:Active:Disconnected] tmp #
```

- Retrieve the tgz file generated by `bigIPCollect.sh`

```
$ scp root@bigip.f5:/tmp/20221122-2351-bigIPCollect.tgz .
(root@bigip.f5) Password: 
20221122-2351-bigIPCollect.tgz               100%   14KB   5.4MB/s   00:00    
$ 
```
